(()=>{"use strict";(()=>{const e=document.getElementById("universe"),t=document.getElementById("snow"),o=document.getElementById("settingStyle"),n=document.getElementById("welcome-info"),a=document.getElementById("modeicon"),l=document.getElementById("modeiconT"),s=document.documentElement.getAttribute("data-theme"),r=()=>{try{const e=localStorage.getItem("font")||"LXGW";localStorage.setItem("font",e);const t="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif",o="var(--global-font), -apple-system, IBM Plex Mono, monospace, 'å¾®è½¯é›…é»‘', sans-serif";"default"===e?(document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily=t):(document.getElementById("global-font").innerText=`:root{--global-font: ${e}; }`,document.body.style.fontFamily=o)}catch(e){console.error("Error accessing localStorage:",e),document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif"}try{const e=localStorage.getItem("themeColor")||"green";localStorage.setItem("themeColor",e),document.getElementById("themeColor").innerText=":root{--theme-color:"+btf.map.get(e)+" !important}";const t=btf.map.get(e),o="rgba"+t.substring(3,t.length-1)+", 0.7)",n="rgba"+t.substring(3,t.length-1)+", 0.5)",a="rgba"+t.substring(3,t.length-1)+", 0.1)";document.getElementById("global-color").innerText=`:root{--text-bg-hover: ${o}; --high-trans-color: ${n}; --hh-trans-color: ${a}; }`,btf.CURSOR.refresh()}catch(e){console.log("Setting color exceptionï¼š",e)}document.getElementById("aside-show").innerText="1"==localStorage.getItem("aside")?":root{--layout-justify-content: unset; --aside-content-display: block; }":":root{--layout-justify-content: center; --aside-content-display: none; }",document.getElementById("aside-pos").innerText="1"==localStorage.getItem("asidePos")?":root{--first-child-order: 0; --recent-post-item-margin: 0; --recent-post-item-margin-other: 0 0 0 15px; }":":root{--first-child-order: 2; --recent-post-item-margin: 0 15px 0 0; --recent-post-item-margin-other: 0 15px 0 0; }";const e=localStorage.getItem("transNum")||85;document.getElementById("transPercent").innerText=`:root{--trans-light: rgba(253, 253, 253, ${e}%) !important; --trans-dark: rgba(25, 25, 25, ${e}%) !important; --trans-comment-dark: rgba(35, 35, 35, ${e}%) !important} `;const t=localStorage.getItem("blurRad")||20;document.getElementById("bgFilterParam").innerText=`:root{--blur-num: blur(${t}px) saturate(120%) contrast(105%) !important; `,o.innerText="0"==localStorage.getItem("blur")?":root{--bg-filter: none; }":":root{--bg-filter: var(--blur-num); }";const n=localStorage.getItem("blogbg")||"default";var a;"default"===n?(document.getElementById("defineBg").innerText=":root{\n                --default-bg: url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --darkmode-bg:url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --mobileday-bg: url(https://cdn.aimiliy.top/backImg/418aa5a692048078aec56e073ed15e8849ff99a012daa8-4Bc9wf.webp);\n                --mobilenight-bg: url(https://cdn.aimiliy.top/backImg/20191012131221_mTGle.webp);\n              }",localStorage.setItem("blogbg","default")):(a=n,document.getElementById("defineBg").innerText=`:root{\n                --default-bg: ${a};\n                --darkmode-bg: ${a};\n                --mobileday-bg: ${a};\n                --mobilenight-bg: ${a};\n              }`);const l=document.getElementById("site-name"),s=document.getElementById("site-title"),r=document.getElementById("site-subtitle"),c=document.getElementById("post-info"),i=document.getElementById("menu_shadow"),m="true"===localStorage.getItem("light");l&&(l.style.animation=m?"light_15px 10s linear infinite":"none"),s&&(s.style.animation=m?"light_15px 10s linear infinite":"none"),r&&(r.style.animation=m?"light_10px 10s linear infinite":"none"),c&&(c.style.animation=m?"light_5px 10s linear infinite":"none"),i.innerText=m?":root{--menu-shadow: 0 0 1px var(--theme-color);}":":root{--menu-shadow: none;}";const g=document.getElementById("nav"),d=document.getElementById("nav-display");"1"===localStorage.getItem("nav")?(g.classList.add("nav_fixed","permanent"),g.classList.remove("nav_visible"),d.innerText=":root { --nav-visible-display: none; --nav-fixed-display: inline-flex; }"):(g.classList.add("nav_visible"),g.classList.remove("nav_fixed","permanent"),d.innerText=":root { --nav-visible-display: inline-flex; --nav-fixed-display: none; }")},c=async()=>{const e=localStorage.getItem("MuXiaoChenVersion");((e,t)=>null===t||t!==e)(btf.currentVersion,e)&&(localStorage.setItem("MuXiaoChenVersion",btf.currentVersion),btf.initItem({id:"7397995017",type:"playlist",server:"tencent"}),await new Promise((e=>{setTimeout((()=>{btf.$notify("æç¤ºğŸ’","(ï½¡ï½¥âˆ€ï½¥)ï¾‰ï¾ç”±äºç½‘ç«™éƒ¨åˆ†è®¾ç½®åŠŸèƒ½æ›´æ–°ï¼Œå½“å‰å·²ä¸ºæ‚¨é‡ç½®æ‰€æœ‰è®¾ç½®ï¼Œç¥æ‚¨æ„‰å¿«ï¼","warning",5e3),e()}),500)})))},i=async()=>{if(!/^\/(?:page\/\d+\/|)$/.test(window.location.pathname))return;let e=localStorage.getItem("ipLocation"),t=localStorage.getItem("locationTime"),o=(new Date).getTime();if(e&&t&&o-t<18e5)m(JSON.parse(e));else{m(null,!0);try{const e=await new Promise(((e,t)=>{const o="jsonp_callback_"+Math.random().toString(36).substr(2,10);window[o]=function(t){e(t),document.body.removeChild(n),delete window[o]};const n=document.createElement("script");n.src=`https://apis.map.qq.com/ws/location/v1/ip?key=UEVBZ-KBWCW-L67R2-YZ7NC-CYZY3-LKFR5&output=jsonp&callback=${o}`,n.onerror=function(e){t(e),delete window[o]},document.body.appendChild(n)}));localStorage.setItem("ipLocation",JSON.stringify(e)),localStorage.setItem("locationTime",o),m(e)}catch(e){m({result:{ad_info:{nation:"æœªçŸ¥",province:"æœªçŸ¥",city:"æœªçŸ¥"},location:{lat:0,lng:0}}})}}},m=(e,t=!1)=>{if(t)return void(n.innerHTML='<div style="text-align: center;"><b>ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰</b></div><b><span style="padding:10px;display: flex;justify-content: center;align-items: center;">&emsp;&emsp;æ‚¨å½“å‰çš„ç½‘ç»œè¾ƒæ…¢ï¼Œæ­£åœ¨åŠ é€Ÿè·å–æ‚¨çš„ä½ç½®ä¿¡æ¯ï¼</span></b>');let o,a,l,s=((e,t,o,n)=>{const{sin:a,cos:l,asin:s,PI:r,hypot:c}=Math;let i=(e,t)=>(e*=r/180,{x:l(t*=r/180)*l(e),y:l(t)*a(e),z:a(t)}),m=i(e,t),g=i(o,n),d=2*s(c(m.x-g.x,m.y-g.y,m.z-g.z)/2)*6371;return Math.round(d)})(114.34253,30.49984,e.result.location.lng,e.result.location.lat),r=e.result.ad_info.nation;switch(e.result.ad_info.nation){case"æ—¥æœ¬":a="ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—";break;case"ç¾å›½":a="Let us live in peace!";break;case"è‹±å›½":a="æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼";break;case"ä¿„ç½—æ–¯":a="å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼";break;case"æ³•å›½":a="C'est La Vie";break;case"å¾·å›½":a="Die Zeit verging im Fluge.";break;case"æ¾³å¤§åˆ©äºš":a="ä¸€èµ·å»å¤§å ¡ç¤å§ï¼";break;case"åŠ æ‹¿å¤§":a="æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ";break;case"ä¸­å›½":switch(r=e.result.ad_info.province+" "+e.result.ad_info.city+" "+e.result.ad_info.district,o=e.result.ip,e.result.ad_info.province){case"åŒ—äº¬å¸‚":a="åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~";break;case"å¤©æ´¥å¸‚":a="è®²æ®µç›¸å£°å§ã€‚";break;case"æ²³åŒ—çœ":a="å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³ã€‚é“é©¬é‡‘æˆˆç”±æ­¤å‘ï¼Œæ— é™æ±Ÿå±±ã€‚";break;case"å±±è¥¿çœ":a="å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚";break;case"å†…è’™å¤è‡ªæ²»åŒº":a="å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚";break;case"è¾½å®çœ":a="æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼";break;case"å‰æ—çœ":a="çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚";break;case"é»‘é¾™æ±Ÿçœ":a="å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚";break;case"ä¸Šæµ·å¸‚":a="ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚";break;case"æ±Ÿè‹çœ":switch(e.result.ad_info.city){case"å—äº¬å¸‚":a="è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦ã€‚";break;case"è‹å·å¸‚":a="ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚";break;default:a="æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚"}break;case"æµ™æ±Ÿçœ":a="ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚";break;case"æ²³å—çœ":switch(e.result.ad_info.city){case"éƒ‘å·å¸‚":a="è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­ã€‚";break;case"å—é˜³å¸‚":a="è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ã€‚æ­¤å—é˜³éå½¼å—é˜³ï¼";break;case"é©»é©¬åº—å¸‚":a="å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”ã€‚åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼";break;case"å¼€å°å¸‚":a="åˆšæ­£ä¸é˜¿åŒ…é’å¤©ã€‚";break;case"æ´›é˜³å¸‚":a="æ´›é˜³ç‰¡ä¸¹ç”²å¤©ä¸‹ã€‚";break;default:a="å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ"}break;case"å®‰å¾½çœ":a="èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚";break;case"ç¦å»ºçœ":a="äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚";break;case"æ±Ÿè¥¿çœ":a="è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚";break;case"å±±ä¸œçœ":a="é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚";break;case"æ¹–åŒ—çœ":a="æ¥ç¢—çƒ­å¹²é¢ï¼";break;case"æ¹–å—çœ":a="74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚";break;case"å¹¿ä¸œçœ":a="è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚";break;case"å¹¿è¥¿å£®æ—è‡ªæ²»åŒº":a="æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚";break;case"æµ·å—çœ":a="æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚";break;case"å››å·çœ":a="åº·åº·å·å¦¹å­ã€‚";break;case"è´µå·çœ":a="èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚";break;case"äº‘å—çœ":a="ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚";break;case"è¥¿è—è‡ªæ²»åŒº":a="èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚";break;case"é™•è¥¿çœ":a="æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚";break;case"ç”˜è‚ƒçœ":a="ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚";break;case"é’æµ·çœ":a="ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚";break;case"å®å¤å›æ—è‡ªæ²»åŒº":a="å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚";break;case"æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº":a="é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚";break;case"å°æ¹¾çœ":a="æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚";break;case"é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº":a="æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚";break;case"æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº":a="æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚";break;default:a="å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼"}break;default:a="å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚"}let c=new Date;l=c.getHours()>=5&&c.getHours()<11?"<span>ä¸Šåˆå¥½</span>ï¼Œä¸€æ—¥ä¹‹è®¡åœ¨äºæ™¨ï¼":c.getHours()>=11&&c.getHours()<13?"<span>ä¸­åˆå¥½</span>ï¼Œè¯¥æ‘¸é±¼åƒåˆé¥­äº†ã€‚":c.getHours()>=13&&c.getHours()<15?"<span>ä¸‹åˆå¥½</span>ï¼Œæ‡’æ‡’åœ°ç¡ä¸ªåˆè§‰å§ï¼":c.getHours()>=15&&c.getHours()<16?"<span>ä¸‰ç‚¹å‡ å•¦</span>ï¼Œä¸€èµ·é¥®èŒ¶å‘€ï¼":c.getHours()>=16&&c.getHours()<19?"<span>å¤•é˜³æ— é™å¥½ï¼</span>":c.getHours()>=19&&c.getHours()<24?"<span>æ™šä¸Šå¥½</span>ï¼Œå¤œç”Ÿæ´»å—¨èµ·æ¥ï¼":"å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œå°‘ç†¬å¤œã€‚";try{n.innerHTML=`<div style="text-align: center;"><b>ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰</b></div><b>&emsp;&emsp;æ¬¢è¿æ¥è‡ª <span style="color:var(--theme-color)">${r}</span> çš„å°ä¼™ä¼´ï¼Œ${l}æ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ <span style="color:var(--theme-color)">${s}</span> å…¬é‡Œï¼Œå½“å‰çš„IPåœ°å€ä¸ºï¼š <span style="color:var(--theme-color)">${o}</span>ï¼Œ ${a}</b>`}catch(e){console.log("PjaxåŠ è½½é¦–é¡µæ¬¢è¿è¯­å¼‚å¸¸ï¼š",e)}},g=btf.debounce((()=>{btf.$notify("å“å˜¿ï¼å¤åˆ¶æˆåŠŸğŸ¬","è‹¥è¦è½¬è½½æœ€å¥½ä¿ç•™åŸæ–‡é“¾æ¥å“¦ï¼Œç»™ä½ ä¸€ä¸ªå¤§å¤§çš„èµï¼","success",3e3)}),500,!0),d=btf.debounce((e=>{(e=>{const t=["F12","I","J","C","U"];return t.includes(e.key)&&("F12"===e.key||e.ctrlKey&&e.shiftKey&&t.slice(1,4).includes(e.key)||e.ctrlKey&&"U"===e.key)})(e)&&btf.$notify("ä½ å·²è¢«å‘ç°ğŸ˜œ","å°ä¼™å­ï¼Œæ‰’æºè®°ä½è¦éµå¾ªGPLåè®®ï¼","warning",3e3)}),500,!0),u=btf.throttle((()=>{btf.checkWidth()}),200,{leading:!0,trailing:!0}),b=document.querySelectorAll('a[href="#post-comment"]'),y=()=>{let e=window.location.hash;if(!e)return;e=e.slice(1);const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},p=[{event:"copy",selector:document,callback:g,eventName:"onCopy"},{event:"keydown",selector:document,callback:d,eventName:"onKeydownGPL"},{event:"visibilitychange",selector:document,callback:()=>{let e;document.hidden?(document.title="ğŸ‘€è·‘å“ªé‡Œå»äº†~",clearTimeout(e)):(document.title="ğŸ–æŠ“åˆ°ä½ å•¦ï½",e=setTimeout((()=>{document.title="MuXiaoChenğŸŠ"}),2e3))},eventName:"onVisibilityChangeTitle"},{event:"resize",selector:window,callback:u,eventName:"onResizeCheckWidth"},{event:"click",selector:b,callback:e=>{e.preventDefault();const t=document.querySelector("#post-comment");t&&t.scrollIntoView({behavior:"smooth"})},eventName:"onClickPostComment"},{event:"hashchange",selector:window,callback:y,eventName:"onHashChange"}];return{init:()=>{c().then((e=>{})),(()=>{const o=localStorage.getItem("universe");(null==o||"block"!==o&&"none"!==o)&&localStorage.setItem("universe","block"),e.style.display=localStorage.getItem("universe");const n=localStorage.getItem("snow");(null==n||"block"!==n&&"none"!==n)&&localStorage.setItem("snow","none"),t.style.display=localStorage.getItem("snow");const r=localStorage.getItem("fpson");(null==r||"1"!==r&&"0"!==r)&&localStorage.setItem("fpson","1");const c=localStorage.getItem("aside");(null==c||"1"!==c&&"0"!==c)&&localStorage.setItem("aside","1");const i=localStorage.getItem("asidePos");(null==i||"0"!==i&&"1"!==i)&&localStorage.setItem("asidePos","1");const m=localStorage.getItem("nav");(null==m||"1"!==m&&"0"!==m)&&localStorage.setItem("nav","1");const g=localStorage.getItem("rs");(null==g||"block"!==g&&"none"!==g)&&localStorage.setItem("rs","block");const d=localStorage.getItem("transNum");(null==d||isNaN(d)||d<0||d>100)&&localStorage.setItem("transNum","85");const u=localStorage.getItem("blurRad");(null==u||isNaN(u)||u<0||u>100)&&localStorage.setItem("blurRad","20");const b=localStorage.getItem("blur");(null==b||"1"!==b&&"0"!==b)&&localStorage.setItem("blur","0");const y=localStorage.getItem("light");(null==y||"true"!==y&&"false"!==y)&&localStorage.setItem("light","true");const p=localStorage.getItem("mouse");(null==p||"on"!==p&&"off"!==p)&&localStorage.setItem("mouse","on");const f="dark"===s?"#icon-sun":"#icon-Moon2",k="dark"===s?"#icon-sun":"#icon-moon";a.getAttribute("xlink:href")!==f&&a.setAttribute("xlink:href",f),l.getAttribute("xlink:href")!==k&&l.setAttribute("xlink:href",k)})(),r(),(()=>{const e=document.getElementById("name-container"),t=document.getElementsByClassName("menus_items"),o=document.getElementById("page-name");e.setAttribute("style","display:none");let n=window.scrollY;window.addEventListener("scroll",btf.debounce((()=>{const o=window.scrollY;o>n?(e.style.display="none",t[1]&&(t[1].style.display="none")):(e.style.display="block",t[1]&&(t[1].style.display="block")),n=o}),50)),o.innerText=document.title.split(" | MuXiaoChenğŸŠ")[0]})(),i().then((e=>{})),btf.checkWidth(),y(),p.forEach((e=>{btf.addEventListenerPjax(e.event,e.selector,e.callback,e.eventName)}))}}})().init()})();