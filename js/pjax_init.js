(()=>{"use strict";const e=document.getElementById("universe"),t=document.getElementById("snow"),o=document.getElementById("settingStyle"),n=document.getElementById("welcome-info"),l=document.getElementById("modeicon"),a=document.getElementById("modeiconT"),s=document.documentElement.getAttribute("data-theme"),i=document.getElementById("global-font"),c=document.getElementById("defineBg"),r=document.getElementById("name-container"),m=document.getElementsByClassName("menus_items"),g=document.getElementById("page-name");(()=>{const d=()=>{try{const e=localStorage.getItem("font")||"LXGW";localStorage.setItem("font",e);const t="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif",o="var(--global-font), -apple-system, IBM Plex Mono, monospace, 'å¾®è½¯é›…é»‘', sans-serif";"default"===e?(i.textContent=":root{--global-font: -apple-system; }",document.body.style.fontFamily=t):(i.textContent=`:root{--global-font: ${e}; }`,document.body.style.fontFamily=o)}catch(e){console.error("Error accessing localStorage:",e),i.textContent=":root{--global-font: -apple-system; }",document.body.style.fontFamily="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif"}try{const e=localStorage.getItem("themeColor")||"green";localStorage.setItem("themeColor",e),document.getElementById("themeColor").textContent=":root{--theme-color:"+btf.map.get(e)+" !important}";const t=btf.map.get(e),o="rgba"+t.substring(3,t.length-1)+", 0.7)",n="rgba"+t.substring(3,t.length-1)+", 0.5)",l="rgba"+t.substring(3,t.length-1)+", 0.1)";document.getElementById("global-color").textContent=`:root{--text-bg-hover: ${o}; --high-trans-color: ${n}; --hh-trans-color: ${l}; }`}catch(e){console.log("Setting color exceptionï¼š",e)}document.getElementById("aside-show").textContent="1"==localStorage.getItem("aside")?":root{--layout-justify-content: unset; --aside-content-display: block; }":":root{--layout-justify-content: center; --aside-content-display: none; }",document.getElementById("aside-pos").textContent="1"==localStorage.getItem("asidePos")?":root{--first-child-order: 0; --recent-post-item-margin: 0; --recent-post-item-margin-other: 0 0 0 15px; }":":root{--first-child-order: 2; --recent-post-item-margin: 0 15px 0 0; --recent-post-item-margin-other: 0 15px 0 0; }";const e=localStorage.getItem("transNum")||85;document.getElementById("transPercent").textContent=`:root{--trans-light: rgba(253, 253, 253, ${e}%) !important; --trans-dark: rgba(20, 24, 30, ${e}%) !important; --trans-comment-dark: rgba(28, 32, 40, ${e}%) !important} `;const t=localStorage.getItem("blurRad")||20;document.getElementById("bgFilterParam").textContent=`:root{--blur-num: blur(${t}px) saturate(120%) contrast(105%) !important; `,o.textContent="0"==localStorage.getItem("blur")?":root{--bg-filter: none; }":":root{--bg-filter: var(--blur-num); }";const n=localStorage.getItem("blogbg")||"default";var l;"default"===n?(c.textContent=":root{\n                --default-bg: url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --darkmode-bg:url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --mobileday-bg: url(https://cdn.aimiliy.top/backImg/418aa5a692048078aec56e073ed15e8849ff99a012daa8-4Bc9wf.webp);\n                --mobilenight-bg: url(https://cdn.aimiliy.top/backImg/20191012131221_mTGle.webp);\n              }",localStorage.setItem("blogbg","default")):(l=n,c.textContent=`:root{\n                --default-bg: ${l};\n                --darkmode-bg: ${l};\n                --mobileday-bg: ${l};\n                --mobilenight-bg: ${l};\n              }`);const a=document.getElementById("site-name"),s=document.getElementById("site-title"),r=document.getElementById("site-subtitle"),m=document.getElementById("post-info"),g=document.getElementById("menu_shadow"),d="true"===localStorage.getItem("light");a&&(a.style.animation=d?"light_15px 10s linear infinite":"none"),s&&(s.style.animation=d?"light_15px 10s linear infinite":"none"),r&&(r.style.animation=d?"light_10px 10s linear infinite":"none"),m&&(m.style.animation=d?"light_5px 10s linear infinite":"none"),g.innerText=d?":root{--menu-shadow: 0 0 1px var(--theme-color);}":":root{--menu-shadow: none;}"},u=async()=>{const e=localStorage.getItem("MuXiaoChenVersion");((e,t)=>null===t||t!==e)(btf.currentVersion,e)&&(localStorage.setItem("MuXiaoChenVersion",btf.currentVersion),btf.initItem({id:"7397995017",type:"playlist",server:"tencent"}),await new Promise((e=>{setTimeout((()=>{btf.$notify("æç¤ºğŸ’","(ï½¡ï½¥âˆ€ï½¥)ï¾‰ï¾ç”±äºç½‘ç«™éƒ¨åˆ†è®¾ç½®åŠŸèƒ½æ›´æ–°ï¼Œå½“å‰å·²ä¸ºæ‚¨é‡ç½®æ‰€æœ‰è®¾ç½®ï¼Œç¥æ‚¨æ„‰å¿«ï¼","warning",5e3),e()}),500)})))},b=async()=>{let e=null;if(!/^\/(?:page\/\d+\/|)$/.test(window.location.pathname))return;let t=localStorage.getItem("ipLocation"),o=localStorage.getItem("locationTime"),n=(new Date).getTime();if(t&&o&&n-o<18e5)p(JSON.parse(t));else{p(e,!0);try{const t=await new Promise(((e,t)=>{const o="jsonp_callback_"+Math.random().toString(36).substr(2,10);window[o]=function(t){e(t),document.body.removeChild(n),delete window[o]};const n=document.createElement("script");n.src=`https://apis.map.qq.com/ws/location/v1/ip?key=UEVBZ-KBWCW-L67R2-YZ7NC-CYZY3-LKFR5&output=jsonp&callback=${o}`,n.onerror=function(e){t(e),delete window[o]},document.body.appendChild(n)}));localStorage.setItem("ipLocation",JSON.stringify(t)),localStorage.setItem("locationTime",n),e=t}catch(t){console.error("Location fetch failed:",t),e={result:{ad_info:{nation:"æœªçŸ¥",province:"æœªçŸ¥",city:"æœªçŸ¥"},location:{lat:0,lng:0}}}}finally{p(e)}}},p=(e,t)=>{if(t)return void(n.innerHTML='<div style="text-align: center;"><b>ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰</b></div><b><span style="padding:10px;display: flex;justify-content: center;align-items: center;">&emsp;&emsp;æ‚¨å½“å‰çš„ç½‘ç»œè¾ƒæ…¢ï¼Œæ­£åœ¨åŠ é€Ÿè·å–æ‚¨çš„ä½ç½®ä¿¡æ¯ï¼</span></b>');let o=((e,t,o,n)=>{const l=e=>e*Math.PI/180,a=l(n-t),s=l(o-e),i=Math.sin(a/2)**2+Math.cos(l(t))*Math.cos(l(n))*Math.sin(s/2)**2,c=2*Math.asin(Math.sqrt(i));return Math.round(6371*c)})(114.34253,30.49984,e.result.location.lng,e.result.location.lat),l=e.result.ad_info.nation;e.result.ad_info.province&&(l=e.result.ad_info.province+" "+e.result.ad_info.city+" "+e.result.ad_info.district);let a=e.result.ip,s=((e,t,o)=>{const n={"æ—¥æœ¬":"ã‚ˆã‚ã—ãï¼Œä¸€èµ·å»çœ‹æ¨±èŠ±å—","ç¾å›½":"Let us live in peace!","è‹±å›½":"æƒ³åŒä½ ä¸€èµ·å¤œä¹˜ä¼¦æ•¦çœ¼","ä¿„ç½—æ–¯":"å¹²äº†è¿™ç“¶ä¼ç‰¹åŠ ï¼","æ³•å›½":"C'est La Vie","å¾·å›½":"Die Zeit verging im Fluge.","æ¾³å¤§åˆ©äºš":"ä¸€èµ·å»å¤§å ¡ç¤å§ï¼","åŠ æ‹¿å¤§":"æ‹¾èµ·ä¸€ç‰‡æ«å¶èµ äºˆä½ ","ä¸­å›½":{"åŒ—äº¬å¸‚":"åŒ—â€”â€”äº¬â€”â€”æ¬¢è¿ä½ ~~~","å¤©æ´¥å¸‚":"è®²æ®µç›¸å£°å§ã€‚","æ²³åŒ—çœ":"å±±åŠ¿å·å·æˆå£å’ï¼Œå¤©ä¸‹é›„å…³...","å±±è¥¿çœ":"å±•å¼€åå…·é•¿ä¸‰å°ºï¼Œå·²å å±±æ²³äº”ç™¾ä½™ã€‚","å†…è’™å¤è‡ªæ²»åŒº":"å¤©è‹è‹ï¼Œé‡èŒ«èŒ«ï¼Œé£å¹è‰ä½è§ç‰›ç¾Šã€‚","è¾½å®çœ":"æˆ‘æƒ³åƒçƒ¤é¸¡æ¶ï¼","å‰æ—çœ":"çŠ¶å…ƒé˜å°±æ˜¯ä¸œåŒ—çƒ§çƒ¤ä¹‹ç‹ã€‚","é»‘é¾™æ±Ÿçœ":"å¾ˆå–œæ¬¢å“ˆå°”æ»¨å¤§å‰§é™¢ã€‚","ä¸Šæµ·å¸‚":"ä¼—æ‰€å‘¨çŸ¥ï¼Œä¸­å›½åªæœ‰ä¸¤ä¸ªåŸå¸‚ã€‚","æ±Ÿè‹çœ":{"å—äº¬å¸‚":"è¿™æ˜¯æˆ‘æŒºæƒ³å»çš„åŸå¸‚å•¦ã€‚","è‹å·å¸‚":"ä¸Šæœ‰å¤©å ‚ï¼Œä¸‹æœ‰è‹æ­ã€‚",default:"æ•£è£…æ˜¯å¿…é¡»è¦æ•£è£…çš„ã€‚"},"æµ™æ±Ÿçœ":"ä¸œé£æ¸ç»¿è¥¿æ¹–æŸ³ï¼Œé›å·²è¿˜äººæœªå—å½’ã€‚","æ²³å—çœ":{"éƒ‘å·å¸‚":"è±«å·ä¹‹åŸŸï¼Œå¤©åœ°ä¹‹ä¸­ã€‚","å—é˜³å¸‚":"è‡£æœ¬å¸ƒè¡£ï¼Œèº¬è€•äºå—é˜³ã€‚æ­¤å—é˜³éå½¼å—é˜³ï¼","é©»é©¬åº—å¸‚":"å³°å³°æœ‰å¥‡çŸ³ï¼ŒçŸ³çŸ³æŒŸä»™æ°”ã€‚åµ–å²ˆå±±çš„èŠ±å¾ˆç¾å“¦ï¼",default:"å¯å¦å¸¦æˆ‘å“å°æ²³å—çƒ©é¢å•¦ï¼Ÿ"},"å®‰å¾½çœ":"èšŒåŸ ä½äº†ï¼ŒèŠœæ¹–èµ·é£ã€‚","ç¦å»ºçœ":"äº•é‚‘ç™½äº‘é—´ï¼Œå²©åŸè¿œå¸¦å±±ã€‚","æ±Ÿè¥¿çœ":"è½éœä¸å­¤é¹œé½é£ï¼Œç§‹æ°´å…±é•¿å¤©ä¸€è‰²ã€‚","å±±ä¸œçœ":"é¥æœ›é½å·ä¹ç‚¹çƒŸï¼Œä¸€æ³“æµ·æ°´æ¯ä¸­æ³»ã€‚","æ¹–åŒ—çœ":"æ¥ç¢—çƒ­å¹²é¢ï¼","æ¹–å—çœ":"74751ï¼Œé•¿æ²™æ–¯å¡”å…‹ã€‚","å¹¿ä¸œçœ":"è€æ¿æ¥ä¸¤æ–¤ç¦å»ºäººã€‚","å¹¿è¥¿å£®æ—è‡ªæ²»åŒº":"æ¡‚æ—å±±æ°´ç”²å¤©ä¸‹ã€‚","æµ·å—çœ":"æœè§‚æ—¥å‡ºé€ç™½æµªï¼Œå¤•çœ‹äº‘èµ·æ”¶éœå…‰ã€‚","å››å·çœ":"åº·åº·å·å¦¹å­ã€‚","è´µå·çœ":"èŒ…å°ï¼Œå­¦ç”Ÿï¼Œå†å¡200ã€‚","äº‘å—çœ":"ç‰é¾™é£èˆäº‘ç¼ ç»•ï¼Œä¸‡ä»å†°å·ç›´è€¸å¤©ã€‚","è¥¿è—è‡ªæ²»åŒº":"èººåœ¨èŒ«èŒ«è‰åŸä¸Šï¼Œä»°æœ›è“å¤©ã€‚","é™•è¥¿çœ":"æ¥ä»½è‡Šå­é¢åŠ é¦ã€‚","ç”˜è‚ƒçœ":"ç¾Œç¬›ä½•é¡»æ€¨æ¨æŸ³ï¼Œæ˜¥é£ä¸åº¦ç‰é—¨å…³ã€‚","é’æµ·çœ":"ç‰›è‚‰å¹²å’Œè€é…¸å¥¶éƒ½å¥½å¥½åƒã€‚","å®å¤å›æ—è‡ªæ²»åŒº":"å¤§æ¼ å­¤çƒŸç›´ï¼Œé•¿æ²³è½æ—¥åœ†ã€‚","æ–°ç–†ç»´å¾å°”è‡ªæ²»åŒº":"é©¼é“ƒå¤é“ä¸ç»¸è·¯ï¼Œèƒ¡é©¬çŠ¹é—»å”æ±‰é£ã€‚","å°æ¹¾çœ":"æˆ‘åœ¨è¿™å¤´ï¼Œå¤§é™†åœ¨é‚£å¤´ã€‚","é¦™æ¸¯ç‰¹åˆ«è¡Œæ”¿åŒº":"æ°¸å®šè´¼æœ‰æ®‹ç•™åœ°é¬¼åšï¼Œè¿å‡»å…‰éå²ç‰ã€‚","æ¾³é—¨ç‰¹åˆ«è¡Œæ”¿åŒº":"æ€§æ„Ÿè·å®˜ï¼Œåœ¨çº¿å‘ç‰Œã€‚",default:"å¸¦æˆ‘å»ä½ çš„åŸå¸‚é€›é€›å§ï¼"},default:"å¸¦æˆ‘å»ä½ çš„å›½å®¶é€›é€›å§ã€‚"};return"ä¸­å›½"===e&&n[e]&&n[e][t]?"object"==typeof n[e][t]?n[e][t][o]?n[e][t][o]:n[e][t].default||"è¯¥åŸå¸‚æš‚æ— æè¿°":n[e][t]:n[e]?n[e]:n.default})(e.result.ad_info.nation,e.result.ad_info.province,e.result.ad_info.city),i=(()=>{const e=(new Date).getHours();return e>=5&&e<11?"<span>æ—©ä¸Šå¥½</span>ï¼Œä»Šå¤©ä¹Ÿè¦å…ƒæ°”æ»¡æ»¡å‘€ï¼":e>=11&&e<13?"<span>ä¸­åˆå¥½</span>ï¼Œå…ˆæ”¾ä¸‹å·¥ä½œåƒé¡¿å¥½çš„å§ï½":e>=13&&e<15?"<span>ä¸‹åˆå¥½</span>ï¼Œå°æ†©ä¸€ä¼šå„¿ï¼Œåˆ«å¤ªç´¯äº†å“¦ã€‚":e>=15&&e<16?"<span>èŒ¶ç‚¹æ—¶é—´</span>åˆ°å•¦ï¼æ¥æ¯å¥¶èŒ¶ææç¥ï½":e>=16&&e<19?"<span>å‚æ™šå¥½</span>ï¼Œå¤•é˜³æ­£ç¾ï¼Œè®°å¾—ä¼‘æ¯çœ¼ç›ã€‚":e>=19&&e<24?"<span>æ™šä¸Šå¥½</span>ï¼Œä»Šå¤©ä¹Ÿè¾›è‹¦å•¦ï¼Œæ”¾æ¾ä¸€ä¸‹å§ï½":"<span>å¤œæ·±äº†</span>ï¼Œæ—©ç‚¹ä¼‘æ¯ï¼Œåˆ«å†åˆ·æ‰‹æœºå•¦ï½"})();try{n.innerHTML=`<div style="text-align: center;"><b>ğŸ‰ æ¬¢è¿ä¿¡æ¯ ğŸ‰</b></div><b>&emsp;&emsp;æ¬¢è¿æ¥è‡ª <span style="color:var(--theme-color)">${l}</span> çš„å°ä¼™ä¼´ï¼Œ${i}æ‚¨ç°åœ¨è·ç¦»ç«™é•¿çº¦ <span style="color:var(--theme-color)">${o}</span> å…¬é‡Œï¼Œå½“å‰çš„IPåœ°å€ä¸ºï¼š <span style="color:var(--theme-color)">${a}</span>ï¼Œ ${s}</b>`}catch(e){console.error("åŠ è½½é¦–é¡µæ¬¢è¿è¯­å¼‚å¸¸ï¼š",e)}},y=btf.debounce((()=>{btf.$notify("å“å˜¿ï¼å¤åˆ¶æˆåŠŸğŸ¬","è‹¥è¦è½¬è½½æœ€å¥½ä¿ç•™åŸæ–‡é“¾æ¥å“¦ï¼Œç»™ä½ ä¸€ä¸ªå¤§å¤§çš„èµï¼","success",3e3)}),500,!0),f=btf.debounce((e=>{(e=>{const t=["F12","I","J","C","U"];return t.includes(e.key)&&("F12"===e.key||e.ctrlKey&&e.shiftKey&&t.slice(1,4).includes(e.key)||e.ctrlKey&&"U"===e.key)})(e)&&btf.$notify("ä½ å·²è¢«å‘ç°ğŸ˜œ","å°ä¼™å­ï¼Œæ‰’æºè®°ä½è¦éµå¾ªGPLåè®®ï¼","warning",3e3)}),500,!0),h=btf.throttle((()=>{btf.checkWidth()}),200,{leading:!0,trailing:!1}),I=document.querySelectorAll('a[href="#post-comment"]'),v=()=>{let e=window.location.hash;if(!e)return;e=e.slice(1);const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},S=(btf.throttle((()=>{btf.percent()}),100,{leading:!0,trailing:!0}),[{event:"copy",selector:document,callback:y,eventName:"onCopy"},{event:"keydown",selector:document,callback:f,eventName:"onKeydownGPL"},{event:"visibilitychange",selector:document,callback:()=>{let e;document.hidden?(document.title="ğŸ‘€è·‘å“ªé‡Œå»äº†~",clearTimeout(e)):(document.title="ğŸ–æŠ“åˆ°ä½ å•¦ï½",e=setTimeout((()=>{document.title="MuXiaoChenğŸŠ"}),2e3))},eventName:"onVisibilityChangeTitle"},{event:"resize",selector:window,callback:h,eventName:"onResizeCheckWidth"},{event:"click",selector:I,callback:e=>{e.preventDefault();const t=document.querySelector("#post-comment");t&&t.scrollIntoView({behavior:"smooth"})},eventName:"onClickPostComment"},{event:"hashchange",selector:window,callback:v,eventName:"onHashChange"}]);return{init:()=>{u(),(()=>{const o=localStorage.getItem("universe");(null==o||"block"!==o&&"none"!==o)&&localStorage.setItem("universe","block"),e.style.display=localStorage.getItem("universe");const n=localStorage.getItem("snow");(null==n||"block"!==n&&"none"!==n)&&localStorage.setItem("snow","none"),t.style.display=localStorage.getItem("snow");const i=localStorage.getItem("fpson");(null==i||"1"!==i&&"0"!==i)&&localStorage.setItem("fpson","1");const c=localStorage.getItem("aside");(null==c||"1"!==c&&"0"!==c)&&localStorage.setItem("aside","1");const r=localStorage.getItem("asidePos");(null==r||"0"!==r&&"1"!==r)&&localStorage.setItem("asidePos","1");const m=localStorage.getItem("nav");(null==m||"1"!==m&&"0"!==m)&&localStorage.setItem("nav","1");const g=localStorage.getItem("rs");(null==g||"block"!==g&&"none"!==g)&&localStorage.setItem("rs","block");const d=localStorage.getItem("transNum");(null==d||isNaN(d)||d<0||d>100)&&localStorage.setItem("transNum","85");const u=localStorage.getItem("blurRad");(null==u||isNaN(u)||u<0||u>100)&&localStorage.setItem("blurRad","20");const b=localStorage.getItem("blur");(null==b||"1"!==b&&"0"!==b)&&localStorage.setItem("blur","0");const p=localStorage.getItem("light");(null==p||"true"!==p&&"false"!==p)&&localStorage.setItem("light","true");const y=localStorage.getItem("mouse");(null==y||"on"!==y&&"off"!==y)&&localStorage.setItem("mouse","on");const f="dark"===s?"#icon-sun":"#icon-Moon2",h="dark"===s?"#icon-sun":"#icon-moon";l.getAttribute("xlink:href")!==f&&l.setAttribute("xlink:href",f),a.getAttribute("xlink:href")!==h&&a.setAttribute("xlink:href",h)})(),d(),(()=>{r.classList.contains("visible")||r.classList.add("visible");let e=window.scrollY;const t=btf.debounce((()=>{const t=window.scrollY;t>e&&t>60?(r.classList.contains("visible")&&r.classList.remove("visible"),m[1]&&(m[1].classList.contains("visible")||m[1].classList.add("visible"))):(r.classList.contains("visible")||r.classList.add("visible"),m[1]&&m[1].classList.contains("visible")&&m[1].classList.remove("visible")),e=t}),50);btf.addEventListenerPjax("scroll",window,t,"scrollTonav"),g.innerText=document.title.split(" | MuXiaoChenğŸŠ")[0]})(),v(),S.forEach((e=>{btf.addEventListenerPjax(e.event,e.selector,e.callback,e.eventName)})),b()}}})().init()})();