(()=>{"use strict";(()=>{const e=document.getElementById("universe"),t=document.getElementById("snow"),o=document.getElementById("settingStyle"),n=document.getElementById("welcome-info"),a=document.getElementById("modeicon"),l=document.getElementById("modeiconT"),s=document.documentElement.getAttribute("data-theme"),r=()=>{try{const e=localStorage.getItem("font")||"LXGW";localStorage.setItem("font",e);const t="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif",o="var(--global-font), -apple-system, IBM Plex Mono, monospace, '微软雅黑', sans-serif";"default"===e?(document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily=t):(document.getElementById("global-font").innerText=`:root{--global-font: ${e}; }`,document.body.style.fontFamily=o)}catch(e){console.error("Error accessing localStorage:",e),document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif"}try{const e=localStorage.getItem("themeColor")||"green";localStorage.setItem("themeColor",e),document.getElementById("themeColor").innerText=":root{--theme-color:"+btf.map.get(e)+" !important}";const t=btf.map.get(e),o="rgba"+t.substring(3,t.length-1)+", 0.7)",n="rgba"+t.substring(3,t.length-1)+", 0.5)",a="rgba"+t.substring(3,t.length-1)+", 0.1)";document.getElementById("global-color").innerText=`:root{--text-bg-hover: ${o}; --high-trans-color: ${n}; --hh-trans-color: ${a}; }`,btf.CURSOR.refresh()}catch(e){console.log("Setting color exception：",e)}document.getElementById("aside-show").innerText="1"==localStorage.getItem("aside")?":root{--layout-justify-content: unset; --aside-content-display: block; }":":root{--layout-justify-content: center; --aside-content-display: none; }",document.getElementById("aside-pos").innerText="1"==localStorage.getItem("asidePos")?":root{--first-child-order: 0; --recent-post-item-margin: 0; --recent-post-item-margin-other: 0 0 0 15px; }":":root{--first-child-order: 2; --recent-post-item-margin: 0 15px 0 0; --recent-post-item-margin-other: 0 15px 0 0; }";const e=localStorage.getItem("transNum")||85;document.getElementById("transPercent").innerText=`:root{--trans-light: rgba(253, 253, 253, ${e}%) !important; --trans-dark: rgba(25, 25, 25, ${e}%) !important; --trans-comment-dark: rgba(35, 35, 35, ${e}%) !important} `;const t=localStorage.getItem("blurRad")||20;document.getElementById("bgFilterParam").innerText=`:root{--blur-num: blur(${t}px) saturate(120%) contrast(105%) !important; `,o.innerText="0"==localStorage.getItem("blur")?":root{--bg-filter: none; }":":root{--bg-filter: var(--blur-num); }";const n=localStorage.getItem("blogbg")||"default";var a;"default"===n?(document.getElementById("defineBg").innerText=":root{\n                --default-bg: url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --darkmode-bg:url(https://neko.aimiliy.top/v1/wallpaper?type=pc);\n                --mobileday-bg: url(https://cdn.aimiliy.top/backImg/418aa5a692048078aec56e073ed15e8849ff99a012daa8-4Bc9wf.webp);\n                --mobilenight-bg: url(https://cdn.aimiliy.top/backImg/20191012131221_mTGle.webp);\n              }",localStorage.setItem("blogbg","default")):(a=n,document.getElementById("defineBg").innerText=`:root{\n                --default-bg: ${a};\n                --darkmode-bg: ${a};\n                --mobileday-bg: ${a};\n                --mobilenight-bg: ${a};\n              }`);const l=document.getElementById("site-name"),s=document.getElementById("site-title"),r=document.getElementById("site-subtitle"),c=document.getElementById("post-info"),i=document.getElementById("menu_shadow"),m="true"===localStorage.getItem("light");l&&(l.style.animation=m?"light_15px 10s linear infinite":"none"),s&&(s.style.animation=m?"light_15px 10s linear infinite":"none"),r&&(r.style.animation=m?"light_10px 10s linear infinite":"none"),c&&(c.style.animation=m?"light_5px 10s linear infinite":"none"),i.innerText=m?":root{--menu-shadow: 0 0 1px var(--theme-color);}":":root{--menu-shadow: none;}";const g=document.getElementById("nav"),d=document.getElementById("nav-display");"1"===localStorage.getItem("nav")?(g.classList.add("nav_fixed","permanent"),g.classList.remove("nav_visible"),d.innerText=":root { --nav-visible-display: none; --nav-fixed-display: inline-flex; }"):(g.classList.add("nav_visible"),g.classList.remove("nav_fixed","permanent"),d.innerText=":root { --nav-visible-display: inline-flex; --nav-fixed-display: none; }")},c=async()=>{const e=localStorage.getItem("MuXiaoChenVersion");((e,t)=>null===t||t!==e)(btf.currentVersion,e)&&(localStorage.setItem("MuXiaoChenVersion",btf.currentVersion),btf.initItem({id:"7397995017",type:"playlist",server:"tencent"}),await new Promise((e=>{setTimeout((()=>{btf.$notify("提示🍒","(｡･∀･)ﾉﾞ由于网站部分设置功能更新，当前已为您重置所有设置，祝您愉快！","warning",5e3),e()}),500)})))},i=async()=>{if(!/^\/(?:page\/\d+\/|)$/.test(window.location.pathname))return;let e=localStorage.getItem("ipLocation"),t=localStorage.getItem("locationTime"),o=(new Date).getTime();if(e&&t&&o-t<18e5)m(JSON.parse(e));else{m(null,!0);try{const e=await new Promise(((e,t)=>{const o="jsonp_callback_"+Math.random().toString(36).substr(2,10);window[o]=function(t){e(t),document.body.removeChild(n),delete window[o]};const n=document.createElement("script");n.src=`https://apis.map.qq.com/ws/location/v1/ip?key=UEVBZ-KBWCW-L67R2-YZ7NC-CYZY3-LKFR5&output=jsonp&callback=${o}`,n.onerror=function(e){t(e),delete window[o]},document.body.appendChild(n)}));localStorage.setItem("ipLocation",JSON.stringify(e)),localStorage.setItem("locationTime",o),m(e)}catch(e){m({result:{ad_info:{nation:"未知",province:"未知",city:"未知"},location:{lat:0,lng:0}}})}}},m=(e,t=!1)=>{if(t)return void(n.innerHTML='<div style="text-align: center;"><b>🎉 欢迎信息 🎉</b></div><b><span style="padding:10px;display: flex;justify-content: center;align-items: center;">&emsp;&emsp;您当前的网络较慢，正在加速获取您的位置信息！</span></b>');let o,a,l,s=((e,t,o,n)=>{const{sin:a,cos:l,asin:s,PI:r,hypot:c}=Math;let i=(e,t)=>(e*=r/180,{x:l(t*=r/180)*l(e),y:l(t)*a(e),z:a(t)}),m=i(e,t),g=i(o,n),d=2*s(c(m.x-g.x,m.y-g.y,m.z-g.z)/2)*6371;return Math.round(d)})(114.34253,30.49984,e.result.location.lng,e.result.location.lat),r=e.result.ad_info.nation;switch(e.result.ad_info.nation){case"日本":a="よろしく，一起去看樱花吗";break;case"美国":a="Let us live in peace!";break;case"英国":a="想同你一起夜乘伦敦眼";break;case"俄罗斯":a="干了这瓶伏特加！";break;case"法国":a="C'est La Vie";break;case"德国":a="Die Zeit verging im Fluge.";break;case"澳大利亚":a="一起去大堡礁吧！";break;case"加拿大":a="拾起一片枫叶赠予你";break;case"中国":switch(r=e.result.ad_info.province+" "+e.result.ad_info.city+" "+e.result.ad_info.district,o=e.result.ip,e.result.ad_info.province){case"北京市":a="北——京——欢迎你~~~";break;case"天津市":a="讲段相声吧。";break;case"河北省":a="山势巍巍成壁垒，天下雄关。铁马金戈由此向，无限江山。";break;case"山西省":a="展开坐具长三尺，已占山河五百余。";break;case"内蒙古自治区":a="天苍苍，野茫茫，风吹草低见牛羊。";break;case"辽宁省":a="我想吃烤鸡架！";break;case"吉林省":a="状元阁就是东北烧烤之王。";break;case"黑龙江省":a="很喜欢哈尔滨大剧院。";break;case"上海市":a="众所周知，中国只有两个城市。";break;case"江苏省":switch(e.result.ad_info.city){case"南京市":a="这是我挺想去的城市啦。";break;case"苏州市":a="上有天堂，下有苏杭。";break;default:a="散装是必须要散装的。"}break;case"浙江省":a="东风渐绿西湖柳，雁已还人未南归。";break;case"河南省":switch(e.result.ad_info.city){case"郑州市":a="豫州之域，天地之中。";break;case"南阳市":a="臣本布衣，躬耕于南阳。此南阳非彼南阳！";break;case"驻马店市":a="峰峰有奇石，石石挟仙气。嵖岈山的花很美哦！";break;case"开封市":a="刚正不阿包青天。";break;case"洛阳市":a="洛阳牡丹甲天下。";break;default:a="可否带我品尝河南烩面啦？"}break;case"安徽省":a="蚌埠住了，芜湖起飞。";break;case"福建省":a="井邑白云间，岩城远带山。";break;case"江西省":a="落霞与孤鹜齐飞，秋水共长天一色。";break;case"山东省":a="遥望齐州九点烟，一泓海水杯中泻。";break;case"湖北省":a="来碗热干面！";break;case"湖南省":a="74751，长沙斯塔克。";break;case"广东省":a="老板来两斤福建人。";break;case"广西壮族自治区":a="桂林山水甲天下。";break;case"海南省":a="朝观日出逐白浪，夕看云起收霞光。";break;case"四川省":a="康康川妹子。";break;case"贵州省":a="茅台，学生，再塞200。";break;case"云南省":a="玉龙飞舞云缠绕，万仞冰川直耸天。";break;case"西藏自治区":a="躺在茫茫草原上，仰望蓝天。";break;case"陕西省":a="来份臊子面加馍。";break;case"甘肃省":a="羌笛何须怨杨柳，春风不度玉门关。";break;case"青海省":a="牛肉干和老酸奶都好好吃。";break;case"宁夏回族自治区":a="大漠孤烟直，长河落日圆。";break;case"新疆维吾尔自治区":a="驼铃古道丝绸路，胡马犹闻唐汉风。";break;case"台湾省":a="我在这头，大陆在那头。";break;case"香港特别行政区":a="永定贼有残留地鬼嚎，迎击光非岁玉。";break;case"澳门特别行政区":a="性感荷官，在线发牌。";break;default:a="带我去你的城市逛逛吧！"}break;default:a="带我去你的国家逛逛吧。"}let c=new Date;l=c.getHours()>=5&&c.getHours()<11?"<span>上午好</span>，一日之计在于晨！":c.getHours()>=11&&c.getHours()<13?"<span>中午好</span>，该摸鱼吃午饭了。":c.getHours()>=13&&c.getHours()<15?"<span>下午好</span>，懒懒地睡个午觉吧！":c.getHours()>=15&&c.getHours()<16?"<span>三点几啦</span>，一起饮茶呀！":c.getHours()>=16&&c.getHours()<19?"<span>夕阳无限好！</span>":c.getHours()>=19&&c.getHours()<24?"<span>晚上好</span>，夜生活嗨起来！":"夜深了，早点休息，少熬夜。";try{n.innerHTML=`<div style="text-align: center;"><b>🎉 欢迎信息 🎉</b></div><b>&emsp;&emsp;欢迎来自 <span style="color:var(--theme-color)">${r}</span> 的小伙伴，${l}您现在距离站长约 <span style="color:var(--theme-color)">${s}</span> 公里，当前的IP地址为： <span style="color:var(--theme-color)">${o}</span>， ${a}</b>`}catch(e){console.log("Pjax加载首页欢迎语异常：",e)}},g=btf.debounce((()=>{btf.$notify("哎嘿！复制成功🍬","若要转载最好保留原文链接哦，给你一个大大的赞！","success",3e3)}),500,!0),d=btf.debounce((e=>{(e=>{const t=["F12","I","J","C","U"];return t.includes(e.key)&&("F12"===e.key||e.ctrlKey&&e.shiftKey&&t.slice(1,4).includes(e.key)||e.ctrlKey&&"U"===e.key)})(e)&&btf.$notify("你已被发现😜","小伙子，扒源记住要遵循GPL协议！","warning",3e3)}),500,!0),u=btf.throttle((()=>{btf.checkWidth()}),200,{leading:!0,trailing:!0}),b=document.querySelectorAll('a[href="#post-comment"]'),y=()=>{let e=window.location.hash;if(!e)return;e=e.slice(1);const t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},p=[{event:"copy",selector:document,callback:g,eventName:"onCopy"},{event:"keydown",selector:document,callback:d,eventName:"onKeydownGPL"},{event:"visibilitychange",selector:document,callback:()=>{let e;document.hidden?(document.title="👀跑哪里去了~",clearTimeout(e)):(document.title="🐖抓到你啦～",e=setTimeout((()=>{document.title="MuXiaoChen🍊"}),2e3))},eventName:"onVisibilityChangeTitle"},{event:"resize",selector:window,callback:u,eventName:"onResizeCheckWidth"},{event:"click",selector:b,callback:e=>{e.preventDefault();const t=document.querySelector("#post-comment");t&&t.scrollIntoView({behavior:"smooth"})},eventName:"onClickPostComment"},{event:"hashchange",selector:window,callback:y,eventName:"onHashChange"}];return{init:()=>{c().then((e=>{})),(()=>{const o=localStorage.getItem("universe");(null==o||"block"!==o&&"none"!==o)&&localStorage.setItem("universe","block"),e.style.display=localStorage.getItem("universe");const n=localStorage.getItem("snow");(null==n||"block"!==n&&"none"!==n)&&localStorage.setItem("snow","none"),t.style.display=localStorage.getItem("snow");const r=localStorage.getItem("fpson");(null==r||"1"!==r&&"0"!==r)&&localStorage.setItem("fpson","1");const c=localStorage.getItem("aside");(null==c||"1"!==c&&"0"!==c)&&localStorage.setItem("aside","1");const i=localStorage.getItem("asidePos");(null==i||"0"!==i&&"1"!==i)&&localStorage.setItem("asidePos","1");const m=localStorage.getItem("nav");(null==m||"1"!==m&&"0"!==m)&&localStorage.setItem("nav","1");const g=localStorage.getItem("rs");(null==g||"block"!==g&&"none"!==g)&&localStorage.setItem("rs","block");const d=localStorage.getItem("transNum");(null==d||isNaN(d)||d<0||d>100)&&localStorage.setItem("transNum","85");const u=localStorage.getItem("blurRad");(null==u||isNaN(u)||u<0||u>100)&&localStorage.setItem("blurRad","20");const b=localStorage.getItem("blur");(null==b||"1"!==b&&"0"!==b)&&localStorage.setItem("blur","0");const y=localStorage.getItem("light");(null==y||"true"!==y&&"false"!==y)&&localStorage.setItem("light","true");const p=localStorage.getItem("mouse");(null==p||"on"!==p&&"off"!==p)&&localStorage.setItem("mouse","on");const f="dark"===s?"#icon-sun":"#icon-Moon2",k="dark"===s?"#icon-sun":"#icon-moon";a.getAttribute("xlink:href")!==f&&a.setAttribute("xlink:href",f),l.getAttribute("xlink:href")!==k&&l.setAttribute("xlink:href",k)})(),r(),(()=>{const e=document.getElementById("name-container"),t=document.getElementsByClassName("menus_items"),o=document.getElementById("page-name");e.setAttribute("style","display:none");let n=window.scrollY;window.addEventListener("scroll",btf.debounce((()=>{const o=window.scrollY;o>n?(e.style.display="none",t[1]&&(t[1].style.display="none")):(e.style.display="block",t[1]&&(t[1].style.display="block")),n=o}),50)),o.innerText=document.title.split(" | MuXiaoChen🍊")[0]})(),i().then((e=>{})),btf.checkWidth(),y(),p.forEach((e=>{btf.addEventListenerPjax(e.event,e.selector,e.callback,e.eventName)}))}}})().init()})();