(()=>{const e=document.getElementById("universe"),t=document.getElementById("snow"),o=document.getElementById("settingStyle"),s="v2.56",n=new Map;n.set("red","rgb(241, 71, 71)"),n.set("orange","rgb(241, 162, 71)"),n.set("yellow","rgb(241, 238, 71)"),n.set("purple","rgb(179, 71, 241)"),n.set("blue","rgb(102, 204, 255)"),n.set("gray","rgb(226, 226, 226)"),n.set("green","rgb(57, 197, 187)"),n.set("whitegray","rgb(241, 241, 241)"),n.set("pink","rgb(237, 112, 155)"),n.set("black","rgb(0, 0, 0)"),n.set("darkblue","rgb(97, 100, 159)"),n.set("heoblue","rgb(66, 90, 239)"),Math.lerp=(e,t,o)=>(1-o)*e+o*t;const a=(e,t)=>{try{return window.getComputedStyle?window.getComputedStyle(e)[t]:e.currentStyle[t]}catch(e){}return""};class l{constructor(){this.pos={curr:null,prev:null},this.pt=[],this.create(),this.init(),this.render()}move(e,t){this.cursor.style.left=`${e}px`,this.cursor.style.top=`${t}px`}create(){this.cursor||(this.cursor=document.createElement("div"),this.cursor.id="cursor",this.cursor.classList.add("hidden"),document.body.append(this.cursor));var e=document.getElementsByTagName("*");for(let t=0;t<e.length;t++)"pointer"==a(e[t],"cursor")&&this.pt.push(e[t].outerHTML);var t=n.get(localStorage.getItem("themeColor"));document.head.appendChild(this.scr=document.createElement("style")),this.scr.innerHTML="* {cursor: url(\"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8' width='8px' height='8px'><circle cx='4' cy='4' r='4' opacity='1.0' fill='"+t+"'/></svg>\") 4 4, auto}"}refresh(){this.scr.remove(),this.cursor.classList.remove("hover"),this.cursor.classList.remove("active"),this.pos={curr:null,prev:null},this.pt=[],this.create(),this.init(),this.render()}init(){document.onmouseover=e=>this.pt.includes(e.target.outerHTML)&&this.cursor.classList.add("hover"),document.onmouseout=e=>this.pt.includes(e.target.outerHTML)&&this.cursor.classList.remove("hover"),document.onmousemove=e=>{null==this.pos.curr&&this.move(e.clientX-8,e.clientY-8),this.pos.curr={x:e.clientX-8,y:e.clientY-8},this.cursor.classList.remove("hidden")},document.onmouseenter=e=>this.cursor.classList.remove("hidden"),document.onmouseleave=e=>this.cursor.classList.add("hidden"),document.onmousedown=e=>this.cursor.classList.add("active"),document.onmouseup=e=>this.cursor.classList.remove("active")}render(){this.pos.prev?(this.pos.prev.x=Math.lerp(this.pos.prev.x,this.pos.curr.x,.15),this.pos.prev.y=Math.lerp(this.pos.prev.y,this.pos.curr.y,.15),this.move(this.pos.prev.x,this.pos.prev.y)):this.pos.prev=this.pos.curr,requestAnimationFrame((()=>this.render()))}}const r=e=>{localStorage.setItem("blogbg","default"),localStorage.setItem("universe","block"),localStorage.setItem("blur","0"),localStorage.setItem("fpson","1"),localStorage.setItem("transNum","85"),localStorage.setItem("blurRad","20"),localStorage.setItem("font","LXGW"),localStorage.setItem("themeColor","green"),localStorage.setItem("rs","block"),localStorage.setItem("mouse","on"),localStorage.setItem("light","true"),localStorage.setItem("snow","none"),localStorage.setItem("aside","1"),localStorage.setItem("asidePos","1"),localStorage.setItem("nav","1"),localStorage.setItem("defaultMusic",JSON.stringify(e)),localStorage.setItem("localMusic",JSON.stringify(e))},i=(e,t,o,s=5e3)=>{const n=Toastify({text:"",duration:s,gravity:"top",position:"left",stopOnFocus:!1,style:{width:"auto",padding:"0",borderRadius:"8px",textAlign:"left",boxShadow:"0 3px 7px 0 rgba(0,0,0,.25)",background:"linear-gradient(145deg, #ffffff, #f8f9fa)",color:"#2d3436",maxWidth:"480px",border:"1px solid rgba(0, 0, 0, 0.08)",overflow:"hidden",backdropFilter:"blur(4px)"},node:(()=>{const a=document.createElement("div");a.style.padding="16px 25px";const l=document.createElement("div");l.style.display="flex",l.style.justifyContent="space-between",l.style.alignItems="center",l.style.marginBottom="12px";const r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.gap="12px";const i=document.createElement("i");switch(o){case"success":i.className="fas fa-check-circle";break;case"error":i.className="fas fa-times-circle";break;case"warning":i.className="fas fa-exclamation-circle";break;default:i.style.color="fas fa-check-circle"}i.style.color="var(--theme-color)",i.style.fontSize="20px";const c=document.createElement("div");c.textContent=e,c.style.fontWeight="600",c.style.fontSize="17px",c.style.color="#2d3436",c.style.letterSpacing="0.3px",r.appendChild(i),r.appendChild(c);const m=document.createElement("div");m.innerHTML="<i class='fas fa-times'></i>",m.style.cursor="pointer",m.style.padding="4px",m.style.borderRadius="50%",m.style.transition="all 0.2s",m.style.color="var(--theme-color)",m.style.fontSize="16px",l.appendChild(r),l.appendChild(m);const d=document.createElement("div");d.textContent=t,d.style.fontSize="15px",d.style.lineHeight="1.5",d.style.color="#495057",d.style.paddingLeft="32px";const g=document.createElement("div");return g.style.height="3px",g.style.background="var(--theme-color)",g.style.position="absolute",g.style.bottom="0",g.style.left="0",g.style.width="100%",g.style.animation=`progressToast ${s}ms linear  1 forwards`,a.appendChild(l),a.appendChild(d),a.appendChild(g),m.addEventListener("click",(()=>n.hideToast())),a})()}).showToast()},c=()=>{try{const e=localStorage.getItem("font")||"LXGW";localStorage.setItem("font",e);const t="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif",o="var(--global-font), -apple-system, IBM Plex Mono, monospace, '微软雅黑', sans-serif";"default"===e?(document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily=t):(document.getElementById("global-font").innerText=`:root{--global-font: ${e}; }`,document.body.style.fontFamily=o)}catch(e){console.error("Error accessing localStorage:",e),document.getElementById("global-font").innerText=":root{--global-font: -apple-system; }",document.body.style.fontFamily="-apple-system, Consolas_1, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Lato, Roboto, 'PingFang SC', 'Microsoft JhengHei', 'Microsoft YaHei', sans-serif"}try{const e=localStorage.getItem("themeColor")||"green";localStorage.setItem("themeColor",e),document.getElementById("themeColor").innerText=":root{--theme-color:"+n.get(e)+" !important}",CURSOR.refresh();const t=n.get(e),o="rgba"+t.substring(3,t.length-1)+", 0.7)",s="rgba"+t.substring(3,t.length-1)+", 0.5)",a="rgba"+t.substring(3,t.length-1)+", 0.1)";document.getElementById("global-color").innerText=`:root{--text-bg-hover: ${o}; --high-trans-color: ${s}; --hh-trans-color: ${a}; }`}catch(e){console.log("Setting color exception：",e)}document.getElementById("aside-show").innerText="1"==localStorage.getItem("aside")?":root{--layout-justify-content: unset; --aside-content-display: block; }":":root{--layout-justify-content: center; --aside-content-display: none; }",document.getElementById("aside-pos").innerText="1"==localStorage.getItem("asidePos")?":root{--first-child-order: 0; --recent-post-item-margin: 0; --recent-post-item-margin-other: 0 0 0 15px; }":":root{--first-child-order: 2; --recent-post-item-margin: 0 15px 0 0; --recent-post-item-margin-other: 0 15px 0 0; }";const e=localStorage.getItem("transNum")||85;document.getElementById("transPercent").innerText=`:root{--trans-light: rgba(253, 253, 253, ${e}%) !important; --trans-dark: rgba(25, 25, 25, ${e}%) !important; --trans-comment-dark: rgba(35, 35, 35, ${e}%) !important} `;const t=localStorage.getItem("blurRad")||20;document.getElementById("bgFilterParam").innerText=`:root{--blur-num: blur(${t}px) saturate(120%) contrast(105%) !important; `,o.innerText="0"==localStorage.getItem("blur")?":root{--bg-filter: none; }":":root{--bg-filter: var(--blur-num); }";const s=localStorage.getItem("blogbg")||"default";var a;"default"===s?(document.getElementById("defineBg").innerText=":root{\n                --default-bg: url(https://cdn.aimiliy.top/backImg/81.webp);\n                --darkmode-bg:url(https://cdn.aimiliy.top/backImg/b5757011b2a24502b9d82b99d0056a9c.webp);\n                --mobileday-bg: url(https://cdn.aimiliy.top/backImg/418aa5a692048078aec56e073ed15e8849ff99a012daa8-4Bc9wf.webp);\n                --mobilenight-bg: url(https://cdn.aimiliy.top/backImg/20191012131221_mTGle.webp);\n              }",localStorage.setItem("blogbg","default")):(a=s,document.getElementById("defineBg").innerText=`:root{\n                --default-bg: ${a};\n                --darkmode-bg: ${a};\n                --mobileday-bg: ${a};\n                --mobilenight-bg: ${a};\n              }`);const l=document.getElementById("site-name"),r=document.getElementById("site-title"),i=document.getElementById("site-subtitle"),c=document.getElementById("post-info"),m=document.getElementById("menu_shadow"),d="true"===localStorage.getItem("light");l&&(l.style.animation=d?"light_15px 10s linear infinite":"none"),r&&(r.style.animation=d?"light_15px 10s linear infinite":"none"),i&&(i.style.animation=d?"light_10px 10s linear infinite":"none"),c&&(c.style.animation=d?"light_5px 10s linear infinite":"none"),m.innerText=d?":root{--menu-shadow: 0 0 1px var(--theme-color);}":":root{--menu-shadow: none;}";const g=document.getElementById("nav");"1"==localStorage.getItem("nav")?(g.classList.add("nav_fixed"),g.classList.add("permanent"),g.classList.remove("nav_visible"),document.getElementById("nav-display").innerText=":root { --nav-visible-display: none; --nav-fixed-display: inline-flex; }"):(g.classList.add("nav_visible"),g.classList.remove("nav_fixed"),g.classList.remove("permanent"),document.getElementById("nav-display").innerText=":root { --nav-visible-display: inline-flex; --nav-fixed-display: none; }")},m=()=>{try{rmf.showRightMenu(!1),$(".rmMask").attr("style","display: none")}catch(e){console.error("Error calc percent:",e)}let e=document.documentElement.scrollTop,t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)-document.documentElement.clientHeight,o=Math.round(e/t*100),s=document.querySelector("#go-up");o<95?(s.childNodes[0].style.display="none",s.childNodes[1].style.display="block",s.childNodes[1].innerHTML=o+"<span>%</span>"):(s.childNodes[1].style.display="none",s.childNodes[0].style.display="block")},d=async()=>{const e=localStorage.getItem("MuXiaoChenVersion");((e,t)=>null===t||t!==e)(s,e)&&(localStorage.setItem("MuXiaoChenVersion",s),r({id:"7397995017",type:"playlist",server:"tencent"}),await new Promise((e=>{setTimeout((()=>{i("提示🍒","(｡･∀･)ﾉﾞ由于网站部分设置功能更新，当前已为您重置所有设置，祝您愉快！","warning",5e3),e()}),500)})))},g=(e,t=!1)=>{if(t)return void(document.getElementById("welcome-info").innerHTML='<div style="text-align: center;"><b>🎉 欢迎信息 🎉</b></div><b><span style="padding:10px;display: flex;justify-content: center;align-items: center;">&emsp;&emsp;您当前的网络较慢，正在加速获取您的位置信息！</span></b>');let o,s,n,a=((e,t,o,s)=>{const{sin:n,cos:a,asin:l,PI:r,hypot:i}=Math;let c=(e,t)=>(e*=r/180,{x:a(t*=r/180)*a(e),y:a(t)*n(e),z:n(t)}),m=c(e,t),d=c(o,s),g=2*l(i(m.x-d.x,m.y-d.y,m.z-d.z)/2)*6371;return Math.round(g)})(114.34253,30.49984,e.result.location.lng,e.result.location.lat),l=e.result.ad_info.nation;switch(e.result.ad_info.nation){case"日本":s="よろしく，一起去看樱花吗";break;case"美国":s="Let us live in peace!";break;case"英国":s="想同你一起夜乘伦敦眼";break;case"俄罗斯":s="干了这瓶伏特加！";break;case"法国":s="C'est La Vie";break;case"德国":s="Die Zeit verging im Fluge.";break;case"澳大利亚":s="一起去大堡礁吧！";break;case"加拿大":s="拾起一片枫叶赠予你";break;case"中国":switch(l=e.result.ad_info.province+" "+e.result.ad_info.city+" "+e.result.ad_info.district,o=e.result.ip,e.result.ad_info.province){case"北京市":s="北——京——欢迎你~~~";break;case"天津市":s="讲段相声吧。";break;case"河北省":s="山势巍巍成壁垒，天下雄关。铁马金戈由此向，无限江山。";break;case"山西省":s="展开坐具长三尺，已占山河五百余。";break;case"内蒙古自治区":s="天苍苍，野茫茫，风吹草低见牛羊。";break;case"辽宁省":s="我想吃烤鸡架！";break;case"吉林省":s="状元阁就是东北烧烤之王。";break;case"黑龙江省":s="很喜欢哈尔滨大剧院。";break;case"上海市":s="众所周知，中国只有两个城市。";break;case"江苏省":switch(e.result.ad_info.city){case"南京市":s="这是我挺想去的城市啦。";break;case"苏州市":s="上有天堂，下有苏杭。";break;default:s="散装是必须要散装的。"}break;case"浙江省":s="东风渐绿西湖柳，雁已还人未南归。";break;case"河南省":switch(e.result.ad_info.city){case"郑州市":s="豫州之域，天地之中。";break;case"南阳市":s="臣本布衣，躬耕于南阳。此南阳非彼南阳！";break;case"驻马店市":s="峰峰有奇石，石石挟仙气。嵖岈山的花很美哦！";break;case"开封市":s="刚正不阿包青天。";break;case"洛阳市":s="洛阳牡丹甲天下。";break;default:s="可否带我品尝河南烩面啦？"}break;case"安徽省":s="蚌埠住了，芜湖起飞。";break;case"福建省":s="井邑白云间，岩城远带山。";break;case"江西省":s="落霞与孤鹜齐飞，秋水共长天一色。";break;case"山东省":s="遥望齐州九点烟，一泓海水杯中泻。";break;case"湖北省":s="来碗热干面！";break;case"湖南省":s="74751，长沙斯塔克。";break;case"广东省":s="老板来两斤福建人。";break;case"广西壮族自治区":s="桂林山水甲天下。";break;case"海南省":s="朝观日出逐白浪，夕看云起收霞光。";break;case"四川省":s="康康川妹子。";break;case"贵州省":s="茅台，学生，再塞200。";break;case"云南省":s="玉龙飞舞云缠绕，万仞冰川直耸天。";break;case"西藏自治区":s="躺在茫茫草原上，仰望蓝天。";break;case"陕西省":s="来份臊子面加馍。";break;case"甘肃省":s="羌笛何须怨杨柳，春风不度玉门关。";break;case"青海省":s="牛肉干和老酸奶都好好吃。";break;case"宁夏回族自治区":s="大漠孤烟直，长河落日圆。";break;case"新疆维吾尔自治区":s="驼铃古道丝绸路，胡马犹闻唐汉风。";break;case"台湾省":s="我在这头，大陆在那头。";break;case"香港特别行政区":s="永定贼有残留地鬼嚎，迎击光非岁玉。";break;case"澳门特别行政区":s="性感荷官，在线发牌。";break;default:s="带我去你的城市逛逛吧！"}break;default:s="带我去你的国家逛逛吧。"}let r=new Date;n=r.getHours()>=5&&r.getHours()<11?"<span>上午好</span>，一日之计在于晨！":r.getHours()>=11&&r.getHours()<13?"<span>中午好</span>，该摸鱼吃午饭了。":r.getHours()>=13&&r.getHours()<15?"<span>下午好</span>，懒懒地睡个午觉吧！":r.getHours()>=15&&r.getHours()<16?"<span>三点几啦</span>，一起饮茶呀！":r.getHours()>=16&&r.getHours()<19?"<span>夕阳无限好！</span>":r.getHours()>=19&&r.getHours()<24?"<span>晚上好</span>，夜生活嗨起来！":"夜深了，早点休息，少熬夜。";try{document.getElementById("welcome-info").innerHTML=`<div style="text-align: center;"><b>🎉 欢迎信息 🎉</b></div><b>&emsp;&emsp;欢迎来自 <span style="color:var(--theme-color)">${l}</span> 的小伙伴，${n}您现在距离站长约 <span style="color:var(--theme-color)">${a}</span> 公里，当前的IP地址为： <span style="color:var(--theme-color)">${o}</span>， ${s}</b>`}catch(e){console.log("Pjax加载首页欢迎语异常：",e)}};return{init:()=>{Object.assign(window,{CURSOR:new l,initItem:r,$notify:i,map:n,currentVersion:s,onscroll:m}),d().then((e=>{})),(async()=>{if(!/^\/(?:page\/\d+\/|)$/.test(window.location.pathname))return;let e=localStorage.getItem("ipLocation"),t=localStorage.getItem("locationTime"),o=(new Date).getTime();if(e&&t&&o-t<18e5)g(JSON.parse(e));else{g(null,!0);try{const e=await $.ajax({type:"get",url:"https://apis.map.qq.com/ws/location/v1/ip",data:{key:"UEVBZ-KBWCW-L67R2-YZ7NC-CYZY3-LKFR5",output:"jsonp"},dataType:"jsonp"});localStorage.setItem("ipLocation",JSON.stringify(e)),localStorage.setItem("locationTime",o),g(e)}catch(e){g({result:{ad_info:{nation:"未知",province:"未知",city:"未知"},location:{lat:0,lng:0}}})}}})().then((e=>{})),(()=>{const o=localStorage.getItem("universe");(null==o||"block"!==o&&"none"!==o)&&localStorage.setItem("universe","block"),e.style.display=localStorage.getItem("universe");const s=localStorage.getItem("snow");(null==s||"block"!==s&&"none"!==s)&&localStorage.setItem("snow","none"),t.style.display=localStorage.getItem("snow");const n=localStorage.getItem("fpson");(null==n||"1"!==n&&"0"!==n)&&localStorage.setItem("fpson","1");const a=localStorage.getItem("aside");(null==a||"1"!==a&&"0"!==a)&&localStorage.setItem("aside","1");const l=localStorage.getItem("asidePos");(null==l||"0"!==l&&"1"!==l)&&localStorage.setItem("asidePos","1");const r=localStorage.getItem("nav");(null==r||"1"!==r&&"0"!==r)&&localStorage.setItem("nav","1");const i=localStorage.getItem("rs");(null==i||"block"!==i&&"none"!==i)&&localStorage.setItem("rs","block");const c=localStorage.getItem("transNum");(null==c||isNaN(c)||c<0||c>100)&&localStorage.setItem("transNum",85);const m=localStorage.getItem("blurRad");(null==m||isNaN(m)||m<0||m>100)&&localStorage.setItem("blurRad",20);const d=localStorage.getItem("blur");(null==d||"1"!==d&&"0"!==d)&&localStorage.setItem("blur",0);const g=localStorage.getItem("light");(null==g||"true"!==g&&"false"!==g)&&localStorage.setItem("light","true");const u=localStorage.getItem("mouse");(null==u||"on"!==u&&"off"!==u)&&localStorage.setItem("mouse","on"),"dark"==("dark"===document.documentElement.getAttribute("data-theme")?"dark":"light")?(document.getElementById("modeicon").setAttribute("xlink:href","#icon-sun"),document.getElementById("modeiconT").setAttribute("xlink:href","#icon-sun")):(document.getElementById("modeicon").setAttribute("xlink:href","#icon-Moon2"),document.getElementById("modeiconT").setAttribute("xlink:href","#icon-moon"))})(),c(),(()=>{const e=document.getElementById("name-container");e.setAttribute("style","display:none");var t=$(window).scrollTop();$(window).scroll((function(){var o=$(window).scrollTop();o>t?(e.setAttribute("style",""),document.getElementsByClassName("menus_items")[1].setAttribute("style","display:none!important")):(document.getElementsByClassName("menus_items")[1].setAttribute("style",""),e.setAttribute("style","display:none")),t=o})),document.getElementById("page-name").innerText=document.title.split(" | MuXiaoChen🍊")[0]})()}}})().init();